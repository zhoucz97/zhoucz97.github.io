---
layout: post
title: 2. Add Two Numbers
date: 2020-07-15
categories: Leetcode
tags: 链表
---

> [原题地址](https://leetcode-cn.com/problems/add-two-numbers/solution/) 

![](/images/posts/2020/07/1501.png)

## Part I  

这个题的思路和加法过程非常相似，加法过程就是从最低位开始加起，对应到这个题目中，就是从两个链表的头结点开始加起。

比如题目中的example，先算`2 + 5 = 7`，即最低位为7； 再算`4 + 6 = 10`，进位1，余0，即第二位为0；最后算`3 + 4 + 1 = 8`，即最高位为8，所以最后输出为7->0->8。

对应的就是加法`342 + 465 = 708`

至此，思路就明确了。

### 代码
```python
def addTwoNumbers(self, l1: ListNode, l2: ListNode) -> ListNode:
    # 虚拟头结点 
    head = ListNode(0)
    p = head
    flag = 0  # 进位
    while l1 and l2:
        if l1.val + l2.val + flag > 9:
            p.next = ListNode(l1.val + l2.val + flag - 10)
            flag = 1
        else:
            p.next = ListNode(l1.val + l2.val + flag)
            flag = 0
        p = p.next
        l1 = l1.next
        l2 = l2.next

    while l1:
        if l1.val + flag > 9:
            p.next = ListNode(l1.val + flag - 10)
            flag = 1
        else:
            p.next = ListNode(l1.val + flag)
            flag = 0
        p = p.next
        l1 = l1.next
    while l2:
        if l2.val + flag > 9:
            p.next = ListNode(l2.val + flag - 10)
            flag = 1
        else:
            p.next = ListNode(l2.val + flag)
            flag = 0
        p = p.next
        l2 = l2.next
    
    if flag == 1:
        p.next = ListNode(1)

    return head.next
```

进一步浓缩代码
```python
def addTwoNumbers(self, l1: ListNode, l2: ListNode) -> ListNode:
    head = p = ListNode(None)
    flag = 0  # 余数
    while l1 or l2 or flag:
        flag += (l1.val if l1 else 0) + (l2.val if l2 else 0)
        p.next = ListNode(flag % 10)
        flag //= 10  # //表示整数除法，  / 表示浮点数除法
        p = p.next
        l1 = l1.next if l1 else None
        l2 = l2.next if l2 else None
    return head.next
```